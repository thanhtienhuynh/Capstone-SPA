<mat-vertical-stepper linear #stepper>
  <mat-step #stepOne [stepControl]="secondFormGroup" editable="true">
    <div class="center">
      <form [formGroup]="secondFormGroup" (ngSubmit)="onScoreSubmit()">
        <ng-template matStepLabel>Nhập điểm</ng-template>
        <mat-form-field *ngFor="let subject of subjects; let i = index">
          <mat-label>{{ subject.name }}</mat-label>
          <input
          style="text-align:right;"
            type="number"
            matInput
            formControlName="{{ subject.id }}"
            placeholder="Điểm {{ subject.name }}"
          />
        </mat-form-field>
        <div>
          <button style="margin-top: 20px; margin-left: 30px;" mat-raised-button color="primary" matStepperNext>Xem kết quả</button>
        </div>
      </form>
    </div>
  </mat-step>
  <mat-step #stepTwo >
    <ng-template matStepLabel>Kết quả</ng-template>
    <div class="center">
      <mat-grid-list [cols]="column" rowHeight="100px">
        <mat-grid-tile
            *ngFor="let tile of finalResultTiles"
            [colspan]="tile.cols"
            [rowspan]="tile.rows"
            [style.background]="tile.color">
            <div *ngIf="!tile.isUsed">
              <div class="circle">{{tile.suggestedGroup.name}}</div>
            </div>
            <div *ngIf="tile.isUsed"  >
              <div style="font-weight: bold;">Total marks: {{ tile.suggestedGroup.totalMark }}</div>
              <mat-selection-list [multiple]="false">
                <div *ngIf="tile.suggestedGroup.suggestedMajors">
                  <mat-list-option *ngFor="let major of tile.suggestedGroup.suggestedMajors">
                    <div (click)="getUniversity(tile.suggestedGroup.id, major.id, tile.suggestedGroup.totalMark)">{{ major.name}}</div>
                    <mat-divider></mat-divider>
                  </mat-list-option>
                </div>
              </mat-selection-list>
            </div>
        </mat-grid-tile>
      </mat-grid-list>
      <div style="margin-top: 25px;">
        <button mat-raised-button color="warn" matStepperPrevious>Trở lại</button>
        <button mat-raised-button color="primary" class="btn-step-one">Xem thêm</button>
      </div>
  </div>
  </mat-step>
  <mat-step  #stepThree >
    <ng-template matStepLabel>Danh sách trường</ng-template>
    <div class="center">
      <mat-grid-list [cols]="2" rowHeight="320px" [gutterSize]="'20px'">
        <mat-grid-tile *ngFor="let university of universities" [colspan]="1" [rowspan]="1" style=" border-radius: 3%; ">
          <div style="height: 100%; width: 100%;">
            <mat-grid-list [cols]="2" rowHeight="80px">
              <mat-grid-tile [colspan]="2" [rowspan]="1" style="background-color: lightblue;">
                <div style="font-size: 1.5em; font-weight: bold; text-align: center;">{{ university.name }}</div>
              </mat-grid-tile>
              <mat-grid-tile [colspan]="1" [rowspan]="3">
                <img width="100%" height="100%" src="{{ university.logoUrl }}" alt="">
              </mat-grid-tile>
              <mat-grid-tile [colspan]="1" [rowspan]="2" style="background-color: rgb(192, 238, 238);">
                <div>Mô tả: {{university.infomation}}</div>
              </mat-grid-tile>
              <mat-grid-tile [colspan]="1" [rowspan]="1" style="background-color: lightblue;">
                <button mat-raised-button color="accent" (click)="loadTests(university.id)">Thi thử</button>
              </mat-grid-tile>
            </mat-grid-list>
          </div>
          
        </mat-grid-tile>
      </mat-grid-list>
      <div style="margin-top: 25px;">
        <button mat-button matStepperPrevious>Trở lại</button>
        <button mat-button class="btn-step-one" (click)="stepper.reset()">Reset</button>
      </div>
  </div>
  </mat-step>
  <mat-step  #stepFour >
    <ng-template matStepLabel>Danh sách bài thi</ng-template>
    <div class="center">
      <div *ngFor="let test of tests">
        <div routerLinkActive="active"><a routerLink="../exam-test/{{test.id}}" target="_blank"><h3>{{test.name}}</h3></a></div>
        <div>Số câu hỏi: {{test.numberOfQuestion}}</div>
        <div>Ngày tạo: {{test.createDate}}</div>
      </div>
      <div style="margin-top: 25px;">
        <button mat-button matStepperPrevious>Trở lại</button>
        <button mat-button class="btn-step-one" (click)="stepper.reset()">Reset</button>
      </div>
  </div>
  </mat-step>
</mat-vertical-stepper>
